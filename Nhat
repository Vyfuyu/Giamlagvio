-- üåå Kaori x Nh·∫≠t | ULTRA Anti-Lag / Anti-Crash
-- T·ªëi ∆∞u cho mobile y·∫øu ‚Äì gi·∫£m RAM, gi·∫£m GPU, gi·∫£m network spam

local Players = game:GetService("Players")
local Lighting = game:GetService("Lighting")
local RunService = game:GetService("RunService")
local StarterGui = game:GetService("StarterGui")
local LocalPlayer = Players.LocalPlayer

local function notify(txt)
	pcall(function()
		StarterGui:SetCore("SendNotification",{
			Title = "Kaori x Nh·∫≠t | Anti-Lag",
			Text = txt,
			Duration = 3
		})
	end)
end

notify("üîß ƒêang k√≠ch ho·∫°t Ultra Anti-Lag...")

------------------------------------------------
-- 1. X√ìA HI·ªÜU ·ª®NG N·∫∂NG
------------------------------------------------
for _,v in pairs(workspace:GetDescendants()) do
	if v:IsA("ParticleEmitter")
	or v:IsA("Trail")
	or v:IsA("Explosion")
	or v:IsA("Fire")
	or v:IsA("Smoke")
	or v:IsA("Beam")
	or v:IsA("BloomEffect")
	or v:IsA("SunRaysEffect")
	or v:IsA("BlurEffect")
	or v:IsA("DepthOfFieldEffect") then
		pcall(function() v:Destroy() end)
	end
end

------------------------------------------------
-- 2. GI·∫¢M √ÅNH S√ÅNG & SHADOW
------------------------------------------------
Lighting.GlobalShadows = false
Lighting.Brightness = 1
Lighting.EnvironmentDiffuseScale = 0
Lighting.EnvironmentSpecularScale = 0
Lighting.FogEnd = 1e6

------------------------------------------------
-- 3. GI·∫¢M CHI TI·∫æT M√î H√åNH
------------------------------------------------
for _,v in pairs(workspace:GetDescendants()) do
	if v:IsA("BasePart") then
		v.Material = Enum.Material.Plastic
		v.Reflectance = 0
	end
	if v:IsA("Decal") or v:IsA("Texture") then
		v.Transparency = 1
	end
	if v:IsA("SurfaceAppearance") then
		v:Destroy()
	end
end

------------------------------------------------
-- 4. GI·∫¢M NETWORK / ANIMATION LOAD
------------------------------------------------
RunService:Set3dRenderingEnabled(true)

pcall(function()
	settings().Rendering.QualityLevel = Enum.QualityLevel.Level01
end)

------------------------------------------------
-- 5. D·ªåN R√ÅC RAM ƒê·ªäNH K·ª≤
------------------------------------------------
task.spawn(function()
	while true do
		task.wait(30)
		collectgarbage("collect")
	end
end)

------------------------------------------------
-- 6. AUTO REAPPLY SAU TELEPORT / RESPAWN
------------------------------------------------
LocalPlayer.CharacterAdded:Connect(function()
	task.wait(3)
	for _,v in pairs(workspace:GetDescendants()) do
		if v:IsA("ParticleEmitter") or v:IsA("Trail") or v:IsA("Beam") then
			pcall(function() v:Destroy() end)
		end
	end
end)

------------------------------------------------
-- 7. ANTI AFK (KH√îNG B·ªä KICK)
------------------------------------------------
local VirtualUser = game:GetService("VirtualUser")
LocalPlayer.Idled:Connect(function()
	VirtualUser:Button2Down(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
	task.wait(1)
	VirtualUser:Button2Up(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
end)

------------------------------------------------
notify("‚úÖ Ultra Anti-Lag ƒë√£ k√≠ch ho·∫°t! Game s·∫Ω m∆∞·ª£t h∆°n nhi·ªÅu üòé")
print("Kaori x Nh·∫≠t | Ultra Anti-Lag ACTIVE")
